void main(){
	sound[] acc;
	sound s;
	acc = buildup(G3);
	// acc = frequency(100.0, A3);
	// acc = transposeUp([C2, E2, G2],3);
	s = setAmplitude(acc[0], 0);

	mixDown(acc);
}

// transposeUp(pitch[] pitches, int count){
// 	sound s;
// 	sound[] acc;
// 	pitch temp;
// 	int i;
// 	int index;
// 	s = setPitch(s, pitches);
// 	acc = [s];
// 	for (i = 1; i < count+1; i = i+1){
// 		pitches[0] = pitches[0]+1;
// 		temp = pitches[0];
// 		pitches[0] = pitches[1];
// 		pitches[1] = pitches[2];
// 		pitches[2] = temp;
// 		s = setPitch(s, pitches);
// 		acc[i] = s;
// 	}
// 	return acc;
// }

sound[] buildup(pitch p){
	int i;
	double duration;
	sound s;
	sound[] acc;

	duration = 0.5;

	for (i = 0; i < 300; i = i+1){
	if (i%3 == 0){
		s = setPitches(s, [p, D5]);
	}
	if (i%3 == 1){
		s = setPitches(s, [p, B5]);
	}
	if (i%3 == 2){
		s = setPitches(s, [p, C6]);
	}
	
		s = setAmplitude(s, 100);
		s = setDuration(s, duration);
		duration = duration/1.1;
		if (duration < 0.02){
			duration = 0.02;
		}
		acc[i] = s;
	}
	return acc;
}